cmake_minimum_required(VERSION 3.10)
project(microdrive)

set(CMAKE_CXX_STANDARD 14)

find_package(pybind11 REQUIRED)

add_library(microdrive MODULE microdrive_pybind.cpp)

target_include_directories(microdrive PRIVATE ${PYBIND11_INCLUDE_DIRS})
target_link_libraries(microdrive PRIVATE pybind11::module)

set_target_properties(microdrive PROPERTIES
    PREFIX "${PYTHON_MODULE_PREFIX}"
    SUFFIX "${PYTHON_MODULE_EXTENSION}"
)
